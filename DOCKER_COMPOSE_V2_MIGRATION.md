# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Docker Compose v2

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **Docker Compose v2** (`docker compose`) –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –≤–µ—Ä—Å–∏–∏ v1 (`docker-compose`).

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥–∞—Ö

### –î–æ (v1):
```bash
docker-compose up -d
docker-compose down
docker-compose ps
docker-compose logs
docker-compose build
docker-compose restart
```

### –ü–æ—Å–ª–µ (v2):
```bash
docker compose up -d        # –ë–ï–ó –¥–µ—Ñ–∏—Å–∞!
docker compose down
docker compose ps
docker compose logs
docker compose build
docker compose restart
```

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

‚úÖ **PowerShell —Å–∫—Ä–∏–ø—Ç—ã:**
- `cleanup_and_restart.ps1`
- `check_monitoring.ps1`

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `README.md`
- `QUICKSTART.md`
- `COMMANDS.md`
- `MONITORING_QUICKSTART.md`
- `MONITORING_TEST_COMMANDS.md`
- `TROUBLESHOOTING_DOCKER.md`
- `HOW_TO_RUN_TESTS.md`

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ v2?

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Docker Compose v2
docker compose version

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
# Docker Compose version v2.x.x
```

## –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Docker Compose v2

Docker Compose v2 –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ **Docker Desktop** (–≤–µ—Ä—Å–∏–∏ 3.4.0 –∏ –≤—ã—à–µ).

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
1. –û–±–Ω–æ–≤–∏—Ç–µ **Docker Desktop** –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
2. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `docker compose` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```powershell
docker compose version
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –§–∞–π–ª `docker-compose.yml` **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å –æ–±–µ–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏  
‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volumes –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –Ω–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º

```powershell
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd D:\Mirea\4Kyrs\Mikroservis\online-teaching-platform

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç)
docker rm -f loki prometheus grafana promtail postgres-exporter

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º
docker compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker compose ps

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
.\check_monitoring.ps1
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v2

- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ** - –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Go –≤–º–µ—Å—Ç–æ Python
- üîß **–õ—É—á—à–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω** —Å Docker CLI
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è** - –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è
- üÜï **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥, –ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üì¶ **–í—Å—Ç—Ä–æ–µ–Ω** –≤ Docker Desktop

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ï—Å–ª–∏ –ø–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –≤–∞–º –Ω—É–∂–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è v1, –æ–Ω–∞ –≤—Å–µ –µ—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ, –Ω–æ **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```
'docker' –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–π –∫–æ–º–∞–Ω–¥–æ–π
```

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω

### docker-compose –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è
```
docker-compose: command not found
```

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker compose` (–ë–ï–ó –¥–µ—Ñ–∏—Å–∞) - –Ω–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å v2

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```
Error: Conflict. The container name is already in use
```

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
docker compose down
docker rm -f loki prometheus grafana promtail postgres-exporter
docker compose up -d --build
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Docker Compose v2 Documentation](https://docs.docker.com/compose/cli-command/)
- [Migration Guide](https://docs.docker.com/compose/migrate/)

---

**–î–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:** 7 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0.0  
**Docker Compose v2:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è 2.20.0+

